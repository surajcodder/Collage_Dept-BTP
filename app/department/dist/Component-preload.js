//@ui5-bundle department/Component-preload.js
sap.ui.require.preload({
	"department/Component.js":function(){
sap.ui.define(["sap/fe/core/AppComponent"],function(e){"use strict";return e.extend("department.Component",{metadata:{manifest:"json"}})});
},
	"department/ext/controller/ListController.controller.js":function(){
sap.ui.define(["sap/ui/core/mvc/ControllerExtension","jquery.sap.global","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(e,jQuery,t,r){"use strict";var o;return e.extend("department.ext.controller.ListController",{override:{onInit:function(){var e=this.base.getExtensionAPI().getModel();var t=(new sap.ushell.services.UserInfo).getEmail();o=t},onBeforeRendering:async function(){debugger;var e=this.base.getExtensionAPI().getModel();if(!e){console.error("Model is not available.");return}var n;if(typeof e.getServiceUrl==="function"){n=e.getServiceUrl();console.log("Service URL:",n)}else{console.error("Unable to determine the service URL.");return}const a=this.base.getView().getContent()[0].mAggregations.content.mAggregations.content.mAssociations.filter;try{const e=await new Promise((e,t)=>{jQuery.ajax({url:n+"/Department",method:"GET",dataType:"json",success:function(t){e(t)},error:function(e,r,o){t(new Error(r+": "+o))}})});console.log("Fetched data:",e);if(e&&e.value){e.value.forEach(function(e){console.log("Department Name:",e.DepartmentName)})}else{console.log("No data found or invalid response format")}}catch(e){console.error("Error fetching Department data",e)}try{const e=await new Promise((e,t)=>{jQuery.ajax({url:n+"/Roll",method:"GET",dataType:"json",success:function(t){e(t)},error:function(e,r,o){t(new Error(r+": "+o))}})});console.log("Fetched Roll data:",e);var i;if(e&&e.value){e.value.forEach(function(e){if(e.email===o){i=e.roll}})}else{console.log("No data found or invalid response format")}var s=this.getView().findAggregatedObjects(true,function(e){return e.isA("sap.ui.table.Table")||e.isA("sap.m.Table")})[0];debugger;var l=s.getBinding("items");if(i!=="Admin"){this.base.getView().findAggregatedObjects(true,function(e){return e.isA("sap.m.Button")}).forEach(function(e){if(e.getId().includes("Create")||e.getId().includes("Delete")){e.setVisible(false)}});var c=sap.ui.getCore().byId(a);var u={$editState:[{operator:"DRAFT_EDIT_STATE",values:["ALL_HIDING_DRAFTS","All (Hiding Drafts)"],validated:"Validated"}]};if(l){var d=new t({path:"IsActiveEntity",operator:r.EQ,value1:true});l.filter([d])}c.setFilterConditions(u);this.base.getView().findAggregatedObjects(true,function(e){return e.isA("sap.fe.macros.controls.FilterBar")}).forEach(function(e){e.setVisible(false)})}}catch(e){console.error("Error fetching Roll data",e)}}}})});
},
	"department/ext/controller/ObjectController.controller.js":function(){
sap.ui.define(["sap/ui/core/mvc/ControllerExtension"],function(e){"use strict";var t;return e.extend("department.ext.controller.ObjectController",{override:{onInit:function(){var e=this.base.getExtensionAPI().getModel();var n=(new sap.ushell.services.UserInfo).getEmail();t=n},routing:{onBeforeBinding:async function(){debugger;var e=this.base.getExtensionAPI().getModel();if(!e){console.error("Model is not available.");return}var n;if(typeof e.getServiceUrl==="function"){n=e.getServiceUrl();console.log("Service URL:",n)}else{console.error("Unable to determine the service URL.");return}try{const e=await new Promise((e,t)=>{jQuery.ajax({url:n+"/Teacher?$filter=Status eq 'Approved'",method:"GET",dataType:"json",success:function(t){e(t)},error:function(e,n,r){t(new Error(n+": "+r))}})});console.log("Fetched Approved Teachers:",e)}catch(e){console.error("Error fetching Teacher data",e)}try{const e=await new Promise((e,t)=>{jQuery.ajax({url:n+"/Roll",method:"GET",dataType:"json",success:function(t){e(t)},error:function(e,n,r){t(new Error(n+": "+r))}})});console.log("Fetched Roll data:",e);var r;if(e&&e.value){e.value.forEach(function(e){if(e.email===t){r=e.roll}})}else{console.log("No data found or invalid response format")}var o=this.getView().getBindingContext();var a=o.getPath();var i=null;var s=a.match(/DepartmentID='([^']+)'/);if(s&&s[1]){i=s[1]}if(i){const e=await new Promise((e,t)=>{jQuery.ajax({url:n+"/Department?$filter=DepartmentID eq '"+i+"'",method:"GET",dataType:"json",success:function(t){e(t)},error:function(e,n,r){t(new Error(n+": "+r))}})});console.log("Fetched Department data:",e);var l;if(e&&e.value&&e.value.length>0){l=e.value[0].DepartmentName}console.log("DepartmentName:",l);debugger;const t=this.base.getView().mAggregations.content[0];const o=t.findAggregatedObjects(true,function(e){return e.isA("sap.m.Button")&&(e.getId().includes("Edit")||e.getId().includes("Delete"))});const a=o[0];const s=o[1];if(r==="Admin"){this.base.getView().findAggregatedObjects(true,function(e){return e.isA("sap.m.Button")}).forEach(function(e){if(a){a.setEnabled(true)}if(s){s.setVisible(true);s.setEnabled(true)}})}else if(r&&l&&r===l){console.log("same");this.base.getView().findAggregatedObjects(true,function(e){return e.isA("sap.m.Button")}).forEach(function(e){if(a){a.setEnabled(true)}if(s){s.setVisible(false);s.setEnabled(false)}})}else{console.log("different");this.base.getView().findAggregatedObjects(true,function(e){return e.isA("sap.m.Button")}).forEach(function(e){if(a&&s){a.setVisible(false);s.setVisible(false);a.setEnabled(false);s.setEnabled(false)}if(e.getId().includes("Edit")||e.getId().includes("Delete")||e.getId().includes("Create")){e.setEnabled(false)}})}}}catch(e){console.error("Error fetching Roll data",e)}if(r!=="Admin"){debugger;this.base.getView().findAggregatedObjects(true,function(e){return e.isA("sap.m.Input")&&e.getBindingPath("value")==="DepartmentName"}).forEach(function(e){e.setEditable(false)})}}}}})});
},
	"department/i18n/i18n.properties":'# This is the resource bundle for department\n\n#Texts for manifest.json\n\n#XTIT: Application name\nappTitle=Department\n\n#YDES: Application description\nappDescription=An SAP Fiori application.\n\n#XFLD,30\nflpTitle=department\n\n#XFLD,30\nflpTitle=department\n\n#XFLD,42\nflpTitle=Department App\n',
	"department/manifest.json":'{"_version":"1.59.0","sap.app":{"id":"department","type":"application","i18n":"i18n/i18n.properties","applicationVersion":{"version":"0.0.1"},"title":"{{Department}}","description":"{{appDescription}}","resources":"resources.json","sourceTemplate":{"id":"@sap/generator-fiori:lrop","version":"1.14.2","toolsId":"65a604ff-6610-4223-9cb1-eb482afb2f2c"},"dataSources":{"mainService":{"uri":"odata/v4/my/","type":"OData","settings":{"annotations":[],"odataVersion":"4.0"}}},"crossNavigation":{"inbounds":{"department-display":{"semanticObject":"department","action":"display","title":"{{flpTitle}}","signature":{"parameters":{},"additionalParameters":"allowed"}},"DepartmentApp-display":{"semanticObject":"DepartmentApp","action":"display","title":"{{flpTitle}}","signature":{"parameters":{},"additionalParameters":"allowed"}}}}},"sap.ui":{"technology":"UI5","icons":{"icon":"","favIcon":"","phone":"","phone@2":"","tablet":"","tablet@2":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"flexEnabled":true,"dependencies":{"minUI5Version":"1.126.1","libs":{"sap.m":{},"sap.ui.core":{},"sap.ushell":{},"sap.fe.templates":{}}},"contentDensities":{"compact":true,"cozy":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"department.i18n.i18n"}},"":{"dataSource":"mainService","preload":true,"settings":{"operationMode":"Server","autoExpandSelect":true,"earlyRequests":true}},"@i18n":{"type":"sap.ui.model.resource.ResourceModel","uri":"i18n/i18n.properties"}},"resources":{"css":[]},"routing":{"config":{},"routes":[{"pattern":":?query:","name":"DepartmentList","target":"DepartmentList"},{"pattern":"Department({key}):?query:","name":"DepartmentObjectPage","target":"DepartmentObjectPage"},{"pattern":"Department({key})/deptToStudent({key2}):?query:","name":"StudentObjectPage","target":"StudentObjectPage"},{"pattern":"Department({key})/deptToTeacher({key2}):?query:","name":"Department_deptToTeacherObjectPage","target":"Department_deptToTeacherObjectPage"}],"targets":{"DepartmentList":{"type":"Component","id":"DepartmentList","name":"sap.fe.templates.ListReport","options":{"settings":{"contextPath":"/Department","variantManagement":"None","navigation":{"Department":{"detail":{"route":"DepartmentObjectPage"}}},"controlConfiguration":{"@com.sap.vocabularies.UI.v1.LineItem":{"tableSettings":{"type":"ResponsiveTable"}}},"initialLoad":"Enabled"}}},"DepartmentObjectPage":{"type":"Component","id":"DepartmentObjectPage","name":"sap.fe.templates.ObjectPage","options":{"settings":{"editableHeaderContent":false,"contextPath":"/Department","navigation":{"deptToStudent":{"detail":{"route":"StudentObjectPage"}},"deptToTeacher":{"detail":{"route":"Department_deptToTeacherObjectPage"}}}}}},"StudentObjectPage":{"type":"Component","id":"StudentObjectPage","name":"sap.fe.templates.ObjectPage","options":{"settings":{"editableHeaderContent":false,"contextPath":"/Department/deptToStudent"}}},"Department_deptToTeacherObjectPage":{"type":"Component","id":"Department_deptToTeacherObjectPage","name":"sap.fe.templates.ObjectPage","options":{"settings":{"contextPath":"/Department/deptToTeacher","navigation":{}}}}}},"extends":{"extensions":{"sap.ui.controllerExtensions":{"sap.fe.templates.ListReport.ListReportController":{"controllerName":"department.ext.controller.ListController"},"sap.fe.templates.ObjectPage.ObjectPageController":{"controllerName":"department.ext.controller.ObjectController"}}}}},"sap.fiori":{"registrationIds":[],"archeType":"transactional"},"sap.cloud":{"public":true,"service":"Dept_router"}}'
});
//# sourceMappingURL=Component-preload.js.map
